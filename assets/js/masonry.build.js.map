{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:////usr/local/lib/node_modules/salvattore/dist/salvattore.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","undefined","window","matchMedia","styleMedia","media","style","document","createElement","script","getElementsByTagName","info","type","id","parentNode","insertBefore","getComputedStyle","currentStyle","matchMedium","text","styleSheet","cssText","textContent","width","matches","addListener","localMatchMedia","hasMediaQueries","isListening","timeoutID","queries","handleChange","evt","clearTimeout","setTimeout","il","length","mql","listeners","j","jl","index","listener","addEventListener","push","removeListener","splice","lastTime","vendors","x","requestAnimationFrame","cancelAnimationFrame","callback","element","currTime","Date","getTime","timeToCall","Math","max","CustomEvent","event","params","bubbles","cancelable","detail","createEvent","initCustomEvent","Event","global","self","grids","mediaRules","mediaQueries","add_to_dataset","key","dataset","setAttribute","obtainGridSettings","computedStyle","content","getPropertyValue","slice","matchResult","match","numberOfColumns","columnClasses","split","addColumns","grid","items","selector","settings","columnsItems","Array","columnsFragment","createDocumentFragment","querySelectorAll","forEach","rows","column","rowsFragment","className","join","row","appendChild","removeColumns","range","createRange","selectNodeContents","columns","filter","extractContents","childNodes","node","HTMLElement","numberOfRowsInFirstColumn","sortedRows","columnIndex","children","rowIndex","container","child","recreateColumns","columnsChange","dispatchEvent","mediaQueryChange","getCSSRules","stylesheet","cssRules","sheet","rules","e","getStylesheets","inlineStyleBlocks","idx","concat","mediaRuleHasColumnsSelector","rule","selectorText","scanMediaQueries","newMediaRules","oldRules","el","indexOf","mediaText","rescanMediaQueries","nextElementColumnIndex","fragments","currentRowCount","lowestRowCount","createFragmentsList","quantity","appendElements","elements","prependElements","fragment","firstChild","numberOfColumnsToExtract","lastChild","registerGrid","display","init","css","innerHTML","head","gridElements","append_elements","prepend_elements","register_grid","recreate_columns","rescan_media_queries","apply"],"mappings":"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","file":"masonry.build.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","/*!\n * Salvattore 1.0.9 by @rnmp and @ppold\n * https://github.com/rnmp/salvattore\n */\n(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.salvattore = factory();\n  }\n}(this, function() {\n/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license */\n\nif (!window.matchMedia) {\n    window.matchMedia = function() {\n        \"use strict\";\n\n        // For browsers that support matchMedium api such as IE 9 and webkit\n        var styleMedia = (window.styleMedia || window.media);\n\n        // For those that don't support matchMedium\n        if (!styleMedia) {\n            var style       = document.createElement('style'),\n                script      = document.getElementsByTagName('script')[0],\n                info        = null;\n\n            style.type  = 'text/css';\n            style.id    = 'matchmediajs-test';\n\n            script.parentNode.insertBefore(style, script);\n\n            // 'style.currentStyle' is used by IE <= 8 and 'window.getComputedStyle' for all other browsers\n            info = ('getComputedStyle' in window) && window.getComputedStyle(style, null) || style.currentStyle;\n\n            styleMedia = {\n                matchMedium: function(media) {\n                    var text = '@media ' + media + '{ #matchmediajs-test { width: 1px; } }';\n\n                    // 'style.styleSheet' is used by IE <= 8 and 'style.textContent' for all other browsers\n                    if (style.styleSheet) {\n                        style.styleSheet.cssText = text;\n                    } else {\n                        style.textContent = text;\n                    }\n\n                    // Test if media query is true or false\n                    return info.width === '1px';\n                }\n            };\n        }\n\n        return function(media) {\n            return {\n                matches: styleMedia.matchMedium(media || 'all'),\n                media: media || 'all'\n            };\n        };\n    }();\n}\n\n/*! matchMedia() polyfill addListener/removeListener extension. Author & copyright (c) 2012: Scott Jehl. Dual MIT/BSD license */\n(function(){\n    \"use strict\";\n\n    // Bail out for browsers that have addListener support\n    if (window.matchMedia && window.matchMedia('all').addListener) {\n        return false;\n    }\n\n    var localMatchMedia = window.matchMedia,\n        hasMediaQueries = localMatchMedia('only all').matches,\n        isListening     = false,\n        timeoutID       = 0,    // setTimeout for debouncing 'handleChange'\n        queries         = [],   // Contains each 'mql' and associated 'listeners' if 'addListener' is used\n        handleChange    = function(evt) {\n            // Debounce\n            clearTimeout(timeoutID);\n\n            timeoutID = setTimeout(function() {\n                for (var i = 0, il = queries.length; i < il; i++) {\n                    var mql         = queries[i].mql,\n                        listeners   = queries[i].listeners || [],\n                        matches     = localMatchMedia(mql.media).matches;\n\n                    // Update mql.matches value and call listeners\n                    // Fire listeners only if transitioning to or from matched state\n                    if (matches !== mql.matches) {\n                        mql.matches = matches;\n\n                        for (var j = 0, jl = listeners.length; j < jl; j++) {\n                            listeners[j].call(window, mql);\n                        }\n                    }\n                }\n            }, 30);\n        };\n\n    window.matchMedia = function(media) {\n        var mql         = localMatchMedia(media),\n            listeners   = [],\n            index       = 0;\n\n        mql.addListener = function(listener) {\n            // Changes would not occur to css media type so return now (Affects IE <= 8)\n            if (!hasMediaQueries) {\n                return;\n            }\n\n            // Set up 'resize' listener for browsers that support CSS3 media queries (Not for IE <= 8)\n            // There should only ever be 1 resize listener running for performance\n            if (!isListening) {\n                isListening = true;\n                window.addEventListener('resize', handleChange, true);\n            }\n\n            // Push object only if it has not been pushed already\n            if (index === 0) {\n                index = queries.push({\n                    mql         : mql,\n                    listeners   : listeners\n                });\n            }\n\n            listeners.push(listener);\n        };\n\n        mql.removeListener = function(listener) {\n            for (var i = 0, il = listeners.length; i < il; i++){\n                if (listeners[i] === listener){\n                    listeners.splice(i, 1);\n                }\n            }\n        };\n\n        return mql;\n    };\n}());\n\n// http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n// http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating\n\n// requestAnimationFrame polyfill by Erik Möller. fixes from Paul Irish and Tino Zijdel\n\n// MIT license\n\n(function() {\n    \"use strict\";\n\n    var lastTime = 0;\n    var vendors = ['ms', 'moz', 'webkit', 'o'];\n    for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n        window.requestAnimationFrame = window[vendors[x]+'RequestAnimationFrame'];\n        window.cancelAnimationFrame = window[vendors[x]+'CancelAnimationFrame'] ||\n            window[vendors[x]+'CancelRequestAnimationFrame'];\n    }\n\n    if (!window.requestAnimationFrame)\n        window.requestAnimationFrame = function(callback, element) {\n            var currTime = new Date().getTime();\n            var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n            var id = window.setTimeout(function() { callback(currTime + timeToCall); },\n              timeToCall);\n            lastTime = currTime + timeToCall;\n            return id;\n        };\n\n    if (!window.cancelAnimationFrame)\n        window.cancelAnimationFrame = function(id) {\n            clearTimeout(id);\n        };\n}());\n\n// https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent\n\nif (typeof window.CustomEvent !== \"function\") {\n  (function() {\n    \"use strict\";\n    function CustomEvent(event, params) {\n      params = params || { bubbles: false, cancelable: false, detail: undefined };\n      var evt = document.createEvent('CustomEvent');\n      evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n      return evt;\n     }\n\n    CustomEvent.prototype = window.Event.prototype;\n\n    window.CustomEvent = CustomEvent;\n  })();\n}\n\n/* jshint laxcomma: true */\nvar salvattore = (function (global, document, undefined) {\n\"use strict\";\n\nvar self = {},\n    grids = [],\n    mediaRules = [],\n    mediaQueries = [],\n    add_to_dataset = function(element, key, value) {\n      // uses dataset function or a fallback for <ie10\n      if (element.dataset) {\n        element.dataset[key] = value;\n      } else {\n        element.setAttribute(\"data-\" + key, value);\n      }\n      return;\n    };\n\nself.obtainGridSettings = function obtainGridSettings(element) {\n  // returns the number of columns and the classes a column should have,\n  // from computing the style of the ::before pseudo-element of the grid.\n\n  var computedStyle = global.getComputedStyle(element, \":before\")\n    , content = computedStyle.getPropertyValue(\"content\").slice(1, -1)\n    , matchResult = content.match(/^\\s*(\\d+)(?:\\s?\\.(.+))?\\s*$/)\n    , numberOfColumns = 1\n    , columnClasses = []\n  ;\n\n  if (matchResult) {\n    numberOfColumns = matchResult[1];\n    columnClasses = matchResult[2];\n    columnClasses = columnClasses? columnClasses.split(\".\") : [\"column\"];\n  } else {\n    matchResult = content.match(/^\\s*\\.(.+)\\s+(\\d+)\\s*$/);\n    if (matchResult) {\n      columnClasses = matchResult[1];\n      numberOfColumns = matchResult[2];\n      if (numberOfColumns) {\n            numberOfColumns = numberOfColumns.split(\".\");\n      }\n    }\n  }\n\n  return {\n    numberOfColumns: numberOfColumns,\n    columnClasses: columnClasses\n  };\n};\n\n\nself.addColumns = function addColumns(grid, items) {\n  // from the settings obtained, it creates columns with\n  // the configured classes and adds to them a list of items.\n\n  var settings = self.obtainGridSettings(grid)\n    , numberOfColumns = settings.numberOfColumns\n    , columnClasses = settings.columnClasses\n    , columnsItems = new Array(+numberOfColumns)\n    , columnsFragment = document.createDocumentFragment()\n    , i = numberOfColumns\n    , selector\n  ;\n\n  while (i-- !== 0) {\n    selector = \"[data-columns] > *:nth-child(\" + numberOfColumns + \"n-\" + i + \")\";\n    columnsItems.push(items.querySelectorAll(selector));\n  }\n\n  columnsItems.forEach(function append_to_grid_fragment(rows) {\n    var column = document.createElement(\"div\")\n      , rowsFragment = document.createDocumentFragment()\n    ;\n\n    column.className = columnClasses.join(\" \");\n\n    Array.prototype.forEach.call(rows, function append_to_column(row) {\n      rowsFragment.appendChild(row);\n    });\n    column.appendChild(rowsFragment);\n    columnsFragment.appendChild(column);\n  });\n\n  grid.appendChild(columnsFragment);\n  add_to_dataset(grid, 'columns', numberOfColumns);\n};\n\n\nself.removeColumns = function removeColumns(grid) {\n  // removes all the columns from a grid, and returns a list\n  // of items sorted by the ordering of columns.\n\n  var range = document.createRange();\n  range.selectNodeContents(grid);\n\n  var columns = Array.prototype.filter.call(range.extractContents().childNodes, function filter_elements(node) {\n    return node instanceof global.HTMLElement;\n  });\n\n  var numberOfColumns = columns.length\n    , numberOfRowsInFirstColumn = columns[0].childNodes.length\n    , sortedRows = new Array(numberOfRowsInFirstColumn * numberOfColumns)\n  ;\n\n  Array.prototype.forEach.call(columns, function iterate_columns(column, columnIndex) {\n    Array.prototype.forEach.call(column.children, function iterate_rows(row, rowIndex) {\n      sortedRows[rowIndex * numberOfColumns + columnIndex] = row;\n    });\n  });\n\n  var container = document.createElement(\"div\");\n  add_to_dataset(container, 'columns', 0);\n\n  sortedRows.filter(function filter_non_null(child) {\n    return !!child;\n  }).forEach(function append_row(child) {\n    container.appendChild(child);\n  });\n\n  return container;\n};\n\n\nself.recreateColumns = function recreateColumns(grid) {\n  // removes all the columns from the grid, and adds them again,\n  // it is used when the number of columns change.\n\n  global.requestAnimationFrame(function render_after_css_mediaQueryChange() {\n    self.addColumns(grid, self.removeColumns(grid));\n    var columnsChange = new CustomEvent(\"columnsChange\");\n    grid.dispatchEvent(columnsChange);\n  });\n};\n\n\nself.mediaQueryChange = function mediaQueryChange(mql) {\n  // recreates the columns when a media query matches the current state\n  // of the browser.\n\n  if (mql.matches) {\n    Array.prototype.forEach.call(grids, self.recreateColumns);\n  }\n};\n\n\nself.getCSSRules = function getCSSRules(stylesheet) {\n  // returns a list of css rules from a stylesheet\n\n  var cssRules;\n  try {\n    cssRules = stylesheet.sheet.cssRules || stylesheet.sheet.rules;\n  } catch (e) {\n    return [];\n  }\n\n  return cssRules || [];\n};\n\n\nself.getStylesheets = function getStylesheets() {\n  // returns a list of all the styles in the document (that are accessible).\n\n  var inlineStyleBlocks = Array.prototype.slice.call(document.querySelectorAll(\"style\"));\n  inlineStyleBlocks.forEach(function(stylesheet, idx) {\n    if (stylesheet.type !== 'text/css' && stylesheet.type !== '') {\n      inlineStyleBlocks.splice(idx, 1);\n    }\n  });\n\n  return Array.prototype.concat.call(\n    inlineStyleBlocks,\n    Array.prototype.slice.call(document.querySelectorAll(\"link[rel='stylesheet']\"))\n  );\n};\n\n\nself.mediaRuleHasColumnsSelector = function mediaRuleHasColumnsSelector(rules) {\n  // checks if a media query css rule has in its contents a selector that\n  // styles the grid.\n\n  var i, rule;\n\n  try {\n    i = rules.length;\n  }\n  catch (e) {\n    i = 0;\n  }\n\n  while (i--) {\n    rule = rules[i];\n    if (rule.selectorText && rule.selectorText.match(/\\[data-columns\\](.*)::?before$/)) {\n      return true;\n    }\n  }\n\n  return false;\n};\n\n\nself.scanMediaQueries = function scanMediaQueries() {\n  // scans all the stylesheets for selectors that style grids,\n  // if the matchMedia API is supported.\n\n  var newMediaRules = [];\n\n  if (!global.matchMedia) {\n    return;\n  }\n\n  self.getStylesheets().forEach(function extract_rules(stylesheet) {\n    Array.prototype.forEach.call(self.getCSSRules(stylesheet), function filter_by_column_selector(rule) {\n      // rule.media throws an 'not implemented error' in ie9 for import rules occasionally\n      try {\n        if (rule.media && rule.cssRules && self.mediaRuleHasColumnsSelector(rule.cssRules)) {\n          newMediaRules.push(rule);\n        }\n      } catch (e) {}\n    });\n  });\n\n  // remove matchMedia listeners from the old rules\n  var oldRules = mediaRules.filter(function (el) {\n      return newMediaRules.indexOf(el) === -1;\n  });\n  mediaQueries.filter(function (el) {\n    return oldRules.indexOf(el.rule) !== -1;\n  }).forEach(function (el) {\n      el.mql.removeListener(self.mediaQueryChange);\n  });\n  mediaQueries = mediaQueries.filter(function (el) {\n    return oldRules.indexOf(el.rule) === -1;\n  });\n\n  // add matchMedia listeners to the new rules\n  newMediaRules.filter(function (el) {\n    return mediaRules.indexOf(el) == -1;\n  }).forEach(function (rule) {\n      var mql = global.matchMedia(rule.media.mediaText);\n      mql.addListener(self.mediaQueryChange);\n      mediaQueries.push({rule: rule, mql:mql});\n  });\n\n  // swap mediaRules with the new set\n  mediaRules.length = 0;\n  mediaRules = newMediaRules;\n};\n\n\nself.rescanMediaQueries = function rescanMediaQueries() {\n    self.scanMediaQueries();\n    Array.prototype.forEach.call(grids, self.recreateColumns);\n};\n\n\nself.nextElementColumnIndex = function nextElementColumnIndex(grid, fragments) {\n  // returns the index of the column where the given element must be added.\n\n  var children = grid.children\n    , m = children.length\n    , lowestRowCount = 0\n    , child\n    , currentRowCount\n    , i\n    , index = 0\n  ;\n  for (i = 0; i < m; i++) {\n    child = children[i];\n    currentRowCount = child.children.length + (fragments[i].children || fragments[i].childNodes).length;\n  if(lowestRowCount === 0) {\n    lowestRowCount = currentRowCount;\n  }\n    if(currentRowCount < lowestRowCount) {\n      index = i;\n      lowestRowCount = currentRowCount;\n    }\n  }\n\n  return index;\n};\n\n\nself.createFragmentsList = function createFragmentsList(quantity) {\n  // returns a list of fragments\n\n  var fragments = new Array(quantity)\n    , i = 0\n  ;\n\n  while (i !== quantity) {\n    fragments[i] = document.createDocumentFragment();\n    i++;\n  }\n\n  return fragments;\n};\n\n\nself.appendElements = function appendElements(grid, elements) {\n  // adds a list of elements to the end of a grid\n\n  var columns = grid.children\n    , numberOfColumns = columns.length\n    , fragments = self.createFragmentsList(numberOfColumns)\n  ;\n\n  Array.prototype.forEach.call(elements, function append_to_next_fragment(element) {\n    var columnIndex = self.nextElementColumnIndex(grid, fragments);\n    fragments[columnIndex].appendChild(element);\n  });\n\n  Array.prototype.forEach.call(columns, function insert_column(column, index) {\n    column.appendChild(fragments[index]);\n  });\n};\n\n\nself.prependElements = function prependElements(grid, elements) {\n  // adds a list of elements to the start of a grid\n\n  var columns = grid.children\n    , numberOfColumns = columns.length\n    , fragments = self.createFragmentsList(numberOfColumns)\n    , columnIndex = numberOfColumns - 1\n  ;\n\n  elements.forEach(function append_to_next_fragment(element) {\n    var fragment = fragments[columnIndex];\n    fragment.insertBefore(element, fragment.firstChild);\n    if (columnIndex === 0) {\n      columnIndex = numberOfColumns - 1;\n    } else {\n      columnIndex--;\n    }\n  });\n\n  Array.prototype.forEach.call(columns, function insert_column(column, index) {\n    column.insertBefore(fragments[index], column.firstChild);\n  });\n\n  // populates a fragment with n columns till the right\n  var fragment = document.createDocumentFragment()\n    , numberOfColumnsToExtract = elements.length % numberOfColumns\n  ;\n\n  while (numberOfColumnsToExtract-- !== 0) {\n    fragment.appendChild(grid.lastChild);\n  }\n\n  // adds the fragment to the left\n  grid.insertBefore(fragment, grid.firstChild);\n};\n\n\nself.registerGrid = function registerGrid (grid) {\n  if (global.getComputedStyle(grid).display === \"none\") {\n    return;\n  }\n\n  // retrieve the list of items from the grid itself\n  var range = document.createRange();\n  range.selectNodeContents(grid);\n\n  var items = document.createElement(\"div\");\n  items.appendChild(range.extractContents());\n\n\n  add_to_dataset(items, 'columns', 0);\n  self.addColumns(grid, items);\n  grids.push(grid);\n};\n\n\nself.init = function init() {\n  // adds required CSS rule to hide 'content' based\n  // configuration.\n\n  var css = document.createElement(\"style\");\n  css.innerHTML = \"[data-columns]::before{display:block;visibility:hidden;position:absolute;font-size:1px;}\";\n  document.head.appendChild(css);\n\n  // scans all the grids in the document and generates\n  // columns from their configuration.\n\n  var gridElements = document.querySelectorAll(\"[data-columns]\");\n  Array.prototype.forEach.call(gridElements, self.registerGrid);\n  self.scanMediaQueries();\n};\n\nself.init();\n\nreturn {\n  appendElements: self.appendElements,\n  prependElements: self.prependElements,\n  registerGrid: self.registerGrid,\n  recreateColumns: self.recreateColumns,\n  rescanMediaQueries: self.rescanMediaQueries,\n  init: self.init,\n\n  // maintains backwards compatibility with underscore style method names\n  append_elements: self.appendElements,\n  prepend_elements: self.prependElements,\n  register_grid: self.registerGrid,\n  recreate_columns: self.recreateColumns,\n  rescan_media_queries: self.rescanMediaQueries\n};\n\n})(window, window.document);\n\nreturn salvattore;\n}));\n"],"sourceRoot":""}